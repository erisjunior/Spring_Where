<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="../static/index.css" th:href="@{/index.css}" rel="stylesheet" />
    <title>Where - Usuário</title>
</head>
<body>
    <div>
        <h2 th:text="'Olá, ' + ${user.name}"></h2>

        <img th:if="${hasAvatar}" th:src="{user.avatar.url}" />
        <img th:unless="${hasAvatar}" src="https://www.ecp.org.br/wp-content/uploads/2017/12/default-avatar-1.png"/>

        <br />

        <a th:href="@{/avatar/createAvatarFormFromUser/{id}(id=${user.id})}">Mudar avatar</a>

        <br />

        <h4>Seus chamados</h4>

        <table>
            <thead>
              <tr>
                <th th:text="Id"></th>
                <th th:text="Titulo"></th>
                <th th:text="Descrição"></th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="calling: ${user.callings}">
                <td th:text="${calling.id}"></td>
                <td th:text="${calling.title}"></td>
                <td th:text="${calling.description}"></td>
              </tr>
            </tbody>
        </table>

        <a th:href="@{/calling/createCallingFormFromUser/{id}(id=${user.id})}">Criar chamado</a>

        <br />
        <br />

        <a href="/user/getAllUsers">Ver lista de usuários</a>
        <br />
        
        <a href="/">Voltar para o menu</a>
        <br />
    </div>
</body>
</html>